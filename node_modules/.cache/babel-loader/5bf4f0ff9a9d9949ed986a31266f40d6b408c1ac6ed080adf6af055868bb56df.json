{"ast":null,"code":"import React from\"react\";import useFetch from\"./useFetch\";import usePagination from\"./usePagination\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WinnerList=_ref=>{let{winners}=_ref;const{firstContentIndex,lastContentIndex,nextPage,prevPage,page,totalPages}=usePagination({contentPerPage:7,count:winners.length});const carsUrl='http://localhost:3000/garage';const{data:carsData}=useFetch(carsUrl);function filterById(jsonObject,id){return jsonObject.filter(function(jsonObject){return jsonObject['id']===id;})[0];};let isCarsDataLoaded=false;try{if(carsData===null){console.log('cars data is null');}else{console.log('cars data is loaded');isCarsDataLoaded=true;}}catch(err){console.log(err);}return/*#__PURE__*/_jsxs(\"div\",{className:\"winners-list-content\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"winners-tb\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u2116\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CAR\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"WINS\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BEST TIME (SECONDS)\"})]}),winners.slice(firstContentIndex,lastContentIndex).map(winner=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:winner.id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-car-side\",style:{'color':isCarsDataLoaded?filterById(carsData,winner.id)['color']:'#CBCBCB'}})}),/*#__PURE__*/_jsx(\"td\",{children:isCarsDataLoaded?filterById(carsData,winner.id)['name']:''}),/*#__PURE__*/_jsx(\"td\",{children:winner.wins}),/*#__PURE__*/_jsxs(\"td\",{children:[winner.time,\" seconds\"]})]},winner.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"orange-btn sm-padding \".concat(page===1?'btn-disabled':'btn-enabled'),disabled:page===1?true:false,onClick:prevPage,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-caret-left\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"PAGE \\u2116\",page,\"/\",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"orange-btn sm-padding \".concat(page===totalPages?'btn-disabled':'btn-enabled'),disabled:page===totalPages?true:false,onClick:nextPage,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-caret-right\"})})]})]});};export default WinnerList;","map":{"version":3,"names":["React","useFetch","usePagination","jsx","_jsx","jsxs","_jsxs","WinnerList","_ref","winners","firstContentIndex","lastContentIndex","nextPage","prevPage","page","totalPages","contentPerPage","count","length","carsUrl","data","carsData","filterById","jsonObject","id","filter","isCarsDataLoaded","console","log","err","className","children","slice","map","winner","style","wins","time","concat","disabled","onClick"],"sources":["D:/Kimi_Toshiko/Programming/EPAM-Internship-test-task/src/TSComponents/WinnerList.tsx"],"sourcesContent":["import React from \"react\";\r\nimport useFetch from \"./useFetch\";\r\nimport IWinner from \"./Interfaces/IWinner\";\r\nimport usePagination from \"./usePagination\";\r\n\r\ninterface IWinnerListProps {\r\n    winners: IWinner[];\r\n}\r\n\r\nconst WinnerList: React.FC<IWinnerListProps> = ({winners}) => {\r\n    const {\r\n        firstContentIndex,\r\n        lastContentIndex,\r\n        nextPage,\r\n        prevPage,\r\n        page,\r\n        totalPages\r\n    } = usePagination({\r\n        contentPerPage: 7,\r\n        count: winners.length\r\n    });\r\n\r\n    const carsUrl: string = 'http://localhost:3000/garage';\r\n    const {data: carsData} = useFetch(carsUrl);\r\n\r\n    function filterById(jsonObject: [], id: number) {\r\n        return jsonObject.filter(function(jsonObject) {\r\n            return (jsonObject['id'] === id);})[0];\r\n    };\r\n\r\n    let isCarsDataLoaded: boolean = false;\r\n\r\n    try {\r\n        if (carsData === null) {\r\n            console.log('cars data is null');\r\n        }\r\n        else {\r\n            console.log('cars data is loaded');\r\n            isCarsDataLoaded = true;\r\n        }\r\n    }\r\n    catch (err) {\r\n        console.log(err);\r\n    }\r\n\r\n    return ( \r\n        <div className=\"winners-list-content\">\r\n            <table className=\"winners-tb\">\r\n                <tr>\r\n                    <th>№</th>\r\n                    <th>CAR</th>\r\n                    <th>NAME</th>\r\n                    <th>WINS</th>\r\n                    <th>BEST TIME (SECONDS)</th>\r\n                </tr>\r\n                {\r\n                    winners.slice(firstContentIndex, lastContentIndex).map(winner => (\r\n                        <tr key={winner.id}>\r\n                            <td>{winner.id}</td>\r\n                            <td><i className=\"fa-solid fa-car-side\" style={{'color': isCarsDataLoaded ? filterById(carsData, winner.id)['color'] : '#CBCBCB'}}></i></td>\r\n                            <td>{isCarsDataLoaded ? filterById(carsData, winner.id)['name'] : ''}</td>\r\n                            <td>{winner.wins}</td>\r\n                            <td>{winner.time} seconds</td>\r\n                        </tr>\r\n                    ))\r\n                }\r\n            </table>\r\n            <div className=\"pagination\">\r\n                <button \r\n                className={`orange-btn sm-padding ${page === 1 ? 'btn-disabled' : 'btn-enabled'}`} \r\n                disabled={page === 1 ? true : false} \r\n                onClick={prevPage}>\r\n                    <i className=\"fa-solid fa-caret-left\"></i>\r\n                </button>\r\n                <p>PAGE №{page}/{totalPages}</p>\r\n                <button \r\n                className={`orange-btn sm-padding ${page === totalPages ? 'btn-disabled' : 'btn-enabled'}`} \r\n                disabled={page === totalPages ? true : false} \r\n                onClick={nextPage}>\r\n                    <i className=\"fa-solid fa-caret-right\"></i>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default WinnerList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}